<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hydevcode</title><link>https://hydevcode.github.io/</link><description>Recent content on Hydevcode</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Hydevcode All rights reserved. ç¦æ­¢è½¬è½½ã€‚å¦‚éœ€å¼•ç”¨ï¼Œè¯·æ³¨æ˜æ–‡ç« é“¾æ¥ã€‚</copyright><lastBuildDate>Thu, 22 May 2025 01:59:41 +0800</lastBuildDate><atom:link href="https://hydevcode.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>RT-Threadä¸­å¦‚ä½•å¯¹å…¶ä»–BSPè¿›è¡Œç˜¦èº«å¹¶æ·»åŠ è½¯ä»¶åŒ…</title><link>https://hydevcode.github.io/p/rt-thread%E4%B8%AD%E5%A6%82%E4%BD%95%E5%AF%B9%E5%85%B6%E4%BB%96bsp%E8%BF%9B%E8%A1%8C%E7%98%A6%E8%BA%AB%E5%B9%B6%E6%B7%BB%E5%8A%A0%E8%BD%AF%E4%BB%B6%E5%8C%85/</link><pubDate>Thu, 22 May 2025 01:59:41 +0800</pubDate><guid>https://hydevcode.github.io/p/rt-thread%E4%B8%AD%E5%A6%82%E4%BD%95%E5%AF%B9%E5%85%B6%E4%BB%96bsp%E8%BF%9B%E8%A1%8C%E7%98%A6%E8%BA%AB%E5%B9%B6%E6%B7%BB%E5%8A%A0%E8%BD%AF%E4%BB%B6%E5%8C%85/</guid><description>&lt;h1 id="ä»‹ç»">ä»‹ç»
&lt;/h1>&lt;p>ç˜¦èº«çš„ç›®çš„å°±æ˜¯å‡å°‘æ•´ä¸ªä»“åº“çš„æ–‡ä»¶ä½“ç§¯ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦åˆ†æå½“å‰å„ä¸ª BSP ä¸­å ç”¨ç©ºé—´è¾ƒå¤§çš„éƒ¨åˆ†&lt;/p>
&lt;p>åœ¨æ­¤ä¹‹å‰ï¼Œå·²æœ‰å¼€å‘è€…å‘å¸ƒäº†ä¸€ç¯‡è¯¦ç»†çš„ç˜¦èº«æŒ‡å—ï¼Œå…·ä½“åœ¨ä¸‹æ–¹é“¾æ¥å¯ä»¥æŸ¥çœ‹:
&lt;a class="link" href="https://club.rt-thread.org/ask/article/4839095b91c2f849.html" target="_blank" rel="noopener"
>RT-Thread-rt-threadä¸»ä»“ BSPç˜¦èº«æŒ‡å—RT-Threadé—®ç­”ç¤¾åŒº - RT-Thread&lt;/a>&lt;/p>
&lt;p>è¿™é‡Œä»¥NXPçš„ä¸ºä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨SpaceSnifferæŸ¥çœ‹è¯¥ç›®å½•çš„æ–‡ä»¶å ç”¨&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250519154446.png" alt="" />&lt;/p>
&lt;p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä»“åº“ä¸­å ç”¨ç©ºé—´è¾ƒå¤šçš„ä¸»è¦æ˜¯ä¸€äº› library åŠä¸ SDK ç›¸å…³çš„å†…å®¹ã€‚è¿™äº›åº“æœ¬èº«å¹¶ä¸ç›´æ¥ä¾èµ– RT-Thread å†…æ ¸ï¼Œè€Œæ˜¯é€šè¿‡é€‚é…å±‚ä¸ç³»ç»Ÿè¿›è¡Œå¯¹æ¥ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›åº“æ‹†åˆ†å‡ºæ¥ï¼Œåˆ†åˆ«åˆ¶ä½œæˆç‹¬ç«‹çš„è½¯ä»¶åŒ…è¿›è¡Œç®¡ç†å’Œç»´æŠ¤ï¼Œä»¥å‡å°‘ BSP ä½“ç§¯ã€‚&lt;/p>
&lt;h1 id="å¼€å§‹æ“ä½œ">å¼€å§‹æ“ä½œ
&lt;/h1>&lt;p>ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºç˜¦èº«çš„å…·ä½“æ“ä½œæ­¥éª¤ï¼Œæˆ‘ä»¬ä»¥å›¾ä¸­å³ä¸‹è§’çš„MCXä¸ºä¾‹è¿›è¡Œè¯´æ˜ï¼Œè¯¥BSPé€‚é…çš„æ¯”è¾ƒæ ‡å‡†ï¼Œé€‚åˆä½œä¸ºç¤ºä¾‹ï¼Œèƒ½å¤Ÿæ›´ç›´è§‚åœ°å±•ç¤ºç˜¦èº«çš„åŸç†å’Œè¿‡ç¨‹&lt;/p>
&lt;p>ç˜¦èº«ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼Œé¦–å…ˆæ˜¯åˆ›å»ºå¯¹åº”çš„SDKä»“åº“ï¼Œç„¶åæ˜¯ä¿®æ”¹Packageè½¯ä»¶åŒ…ç´¢å¼•ä»“åº“ï¼Œæœ€åæ˜¯ä¿®æ”¹RT-Threadä¸»ä»“ä»“åº“ä¸­çš„BSP&lt;/p>
&lt;p>ç˜¦èº«æœ¬è´¨çš„æ ¸å¿ƒå°±æ˜¯å°†å ç”¨æ¯”è¾ƒå¤šçš„æ–‡ä»¶æˆ–è€…åº“åˆ†æˆå•ç‹¬çš„ä»“åº“&lt;/p>
&lt;p>è¿™ä¸€å¥—æµç¨‹ä¸ä»…é€‚ç”¨äº BSP çš„ç˜¦èº«ï¼ŒåŒæ ·é€‚ç”¨äºå‘ RT-Thread ç”Ÿæ€ä¸­æ·»åŠ æ–°çš„è½¯ä»¶åŒ…&lt;/p>
&lt;p>æœ¬æ–‡ä¸­æäº¤PRçš„æ­¥éª¤å¯ä»¥å‚è€ƒ
&lt;a class="link" href="https://club.rt-thread.org/ask/article/62273896dee18b09.html" target="_blank" rel="noopener"
>RT-Thread-ã€RT-Threadã€‘è®°å½•ä¸€æ¬¡å¯¹ä¸»ä»“çš„bspè¿›è¡Œä¿®å¤å¹¶æäº¤prçš„æ€»ç»“RT-Threadé—®ç­”ç¤¾åŒº - RT-Thread&lt;/a>&lt;/p>
&lt;h2 id="åˆ›å»ºsdkè½¯ä»¶åŒ…ä»“åº“">åˆ›å»ºSDKï¼ˆè½¯ä»¶åŒ…ï¼‰ä»“åº“
&lt;/h2>&lt;p>åœ¨åˆ›å»ºä»“åº“å‰ï¼Œé¦–å…ˆéœ€è¦åˆ†æå½“å‰ç›®å½•ç»“æ„ï¼Œæ˜ç¡®å“ªäº›å†…å®¹éœ€è¦æ‹†åˆ†æˆç‹¬ç«‹ä»“åº“&lt;/p>
&lt;p>æ¥åˆ°nxp/mcxaç›®å½•ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°è¯¥ç›®å½•ä¸‹åŒ…å«ä¸¤ä¸ª BSPï¼Œä»¥åŠä¸€ä¸ªä½äº BSP å¤–éƒ¨çš„ &lt;code>Library&lt;/code> æ–‡ä»¶å¤¹&lt;/p>
&lt;p>å…¶ä¸­&lt;code>Library&lt;/code> ä¸­åŒ…å«ä¸€ä¸ªé€šç”¨çš„ &lt;strong>CMSIS&lt;/strong> æ–‡ä»¶å¤¹ï¼Œè¿™æ˜¯ä¸¤ä¸ª BSP åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­éƒ½ä¼šå¼•ç”¨çš„å…¬å…±éƒ¨åˆ†ï¼Œéœ€è¦ä½œä¸ºé€šç”¨ &lt;strong>SDK&lt;/strong> æå–å‡ºæ¥&lt;/p>
&lt;p>&lt;code>drivers&lt;/code> æ˜¯ç”¨äºé€‚é… RT-Thread çš„é©±åŠ¨ä»£ç ï¼Œå±äº BSP çš„ä¸€éƒ¨åˆ†ï¼Œä¸éœ€è¦æ‹†åˆ†ä¸ºè½¯ä»¶åŒ…&lt;/p>
&lt;p>æ­¤å¤–è¿˜æœ‰ä¸¤ä¸ª BSP ä¸“å±çš„åº“æ–‡ä»¶å¤¹ï¼Œè¿™ä¸¤éƒ¨åˆ†å¯ä»¥&lt;strong>åˆå¹¶ä¸ºä¸€ä¸ªè½¯ä»¶åŒ…&lt;/strong>ï¼Œå¹¶é€šè¿‡ &lt;code>SConstruct&lt;/code> æ–‡ä»¶ä¸­çš„é…ç½®æ¥æ§åˆ¶ç¼–è¯‘æ—¶å¯ç”¨å“ªä¸ªæ–‡ä»¶å¤¹ï¼Œä»¥é€‚é…ä¸åŒçš„ BSP&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250519163959.png" alt="" />&lt;/p>
&lt;p>ï¼ˆæ³¨ï¼šé™¤äº†libraryä¹‹ç±»çš„ä»£ç ï¼Œå¦‚æœè¿˜æœ‰å¯¹åº”bspéœ€è¦çš„å·¥å…·æˆ–æ–‡ä»¶çš„è¯ï¼Œæ¯”å¦‚IMX6ULL-Smartè¿™ä¸ªbspç›®å½•ä¸‹è¿˜æœ‰ä¸ªemmcæ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆå¯ä»¥æŠŠå…¶ä¸€èµ·æ”¾åˆ°å¯¹åº”çš„è½¯ä»¶åŒ…æ–‡ä»¶å¤¹ä¸‹ ï¼‰&lt;/p>
&lt;p>åœ¨æ˜ç¡®libraryåº“ä¸­çš„å†…å®¹åï¼Œæˆ‘è¿™é‡Œæ‰“ç®—åˆ†åˆ«åˆ›å»ºå‡ºnxp-mcx-cmsiså’Œnxp-mcx-seriesä¸¤ä¸ªä»“åº“&lt;/p>
&lt;h3 id="åˆ¶ä½œè½¯ä»¶åŒ…å¹¶æµ‹è¯•">åˆ¶ä½œè½¯ä»¶åŒ…å¹¶æµ‹è¯•
&lt;/h3>&lt;p>è¿™é‡Œå¯ä»¥åœ¨packageä¸‹åˆ›å»ºæ–‡ä»¶å¤¹æ¨¡æ‹Ÿæµ‹è¯•ä¸‹æ˜¯å¦èƒ½é€šè¿‡ç¼–è¯‘ï¼š&lt;/p>
&lt;p>ä»¥ &lt;code>frdm-mcxa156&lt;/code> ä¸ºä¾‹,æ¥åˆ°å…¶ç›®å½•ä¸‹ï¼Œæ‰“å¼€envï¼Œè¾“å…¥pkgs &amp;ndash;updateè®©ä»–åˆ›å»ºå‡ºPackagesæ–‡ä»¶å¤¹ï¼Œæ¥ä¸‹æ¥åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹åˆ†åˆ«åˆ›å»ºå‡ºnxp-mcx-cmsiså’Œnxp-mcx-seriesçš„æ–‡ä»¶å¤¹&lt;/p>
&lt;p>å°†åŸ &lt;code>Library&lt;/code> æ–‡ä»¶å¤¹ä¸­çš„ &lt;code>cmsis&lt;/code> ç›®å½•å†…å®¹æ”¾åˆ°nxp-mcx-cmsisä¸­(å¯ä»¥ç†è§£ä¸ºå°† &lt;code>cmsis&lt;/code> æ”¹åä¸º &lt;code>nxp-mcx-cmsis&lt;/code>)ï¼Œå¦å¤–ä¸¤ä¸ª BSP ä¸“å±çš„åº“æ–‡ä»¶å¤¹ï¼Œåˆ™ç»Ÿä¸€æ”¾å…¥ &lt;code>nxp-mcx-series&lt;/code> è½¯ä»¶åŒ…ä¸­ï¼Œåç»­å¯é€šè¿‡ &lt;code>SConstruct&lt;/code> æ§åˆ¶ç¼–è¯‘æ—¶é€‰æ‹©å…·ä½“å­ç›®å½•ï¼Œä»¥é€‚é…ä¸åŒ BSPã€‚æœ€åçš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç„¶ååŸæœ¬çš„cmsiså’Œåº“æ–‡ä»¶å°±å¯ä»¥åˆ é™¤äº†ã€‚&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250519171830.png" alt="" />&lt;/p>
&lt;h3 id="sconsæ˜¯å¦‚ä½•ç¼–è¯‘éœ€è¦çš„cæ–‡ä»¶çš„">sconsæ˜¯å¦‚ä½•ç¼–è¯‘éœ€è¦çš„.cæ–‡ä»¶çš„
&lt;/h3>&lt;p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒSCons çš„ç¼–è¯‘æµç¨‹ä¸»è¦ä¾èµ–äº &lt;code>SConscript&lt;/code> æ–‡ä»¶ä¸­æŒ‡å®šçš„è·¯å¾„æ¥é€’å½’æŸ¥æ‰¾ BSP ç›®å½•ä¸‹æ‰€æœ‰éœ€è¦ç¼–è¯‘çš„ &lt;code>.c&lt;/code> æ–‡ä»¶ã€‚&lt;/p>
&lt;p>å¦‚æœæºç ç›®å½•ç»“æ„ä¸­å­˜åœ¨å¤šå±‚åµŒå¥—ï¼Œ&lt;strong>é‚£ä¹ˆæ¯ä¸€å±‚ç›®å½•ä¸‹éƒ½éœ€è¦æœ‰ä¸€ä¸ª &lt;code>SConscript&lt;/code> æ–‡ä»¶&lt;/strong>ã€‚å› ä¸º SCons ä¼šä»ä¸Šå±‚å‘ä¸‹é€çº§æŸ¥æ‰¾ &lt;code>SConscript&lt;/code>ï¼Œå¹¶é€šè¿‡å®ƒä»¬é€å±‚é€’å½’æ„å»ºç¼–è¯‘è·¯å¾„ã€‚&lt;/p>
&lt;p>ä¸€æ—¦æŸä¸€å±‚ç›®å½•ä¸­ç¼ºå¤±äº† &lt;code>SConscript&lt;/code>ï¼Œåˆ™è¯¥è·¯å¾„ä¸‹æ›´æ·±å±‚çš„ &lt;code>.c&lt;/code> æ–‡ä»¶å°†æ— æ³•è¢«å‘ç°å’Œç¼–è¯‘ï¼Œä»è€Œå¯¼è‡´ç¼–è¯‘ä¸å®Œæ•´æˆ–é“¾æ¥é”™è¯¯ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ä»ä¸Šå›¾ä¸­å¯ä»¥å‘ç°nxp-mcx-seriesä¸‹æ˜¯å°‘äº†SConscriptçš„ï¼Œè¿™ä¼šå¯¼è‡´é‡Œé¢çš„æ–‡ä»¶ç¼–è¯‘ä¸è¿›å»ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ç»™å®ƒåŠ ä¸Š&lt;/p>
&lt;p>å…¶ä¸­çš„å†…å®¹å¯ä»¥å‚è€ƒä¸‹å›¾ï¼Œæ¯ä¸ªä¸“å±çš„åº“éƒ½å¯¹åº”çš„ä¸€ä¸ªSOCå®å®šä¹‰ï¼Œå½“è¿™ä¸ªåˆ¤æ–­åˆ°è¿™ä¸ªå®å®šä¹‰åå°±ä¼šæŠŠå¯¹åº”çš„åº“ä¸­çš„SConscriptä¸­æŒ‡å®šçš„Cæ–‡ä»¶åŠ å…¥åˆ°æ„å»ºä¸­&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250519172251.png" alt="" />&lt;/p>
&lt;p>ç„¶åæ£€æŸ¥ä¸‹å¯¹åº”çš„åº“ä¸­çš„SConscriptï¼Œæˆ‘è¿™é‡Œæ˜¯MCXA156,å¯ä»¥æ‰“å¼€æ£€æŸ¥ä¸‹MCXA156\SConscript&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250519173049.png" alt="" />&lt;/p>
&lt;p>å‘ç°CMSISä¹ŸåŒ…å«åœ¨é‡Œé¢ï¼Œé‚£ä¹ˆæŠŠè¿™ä¸ªCMSISæ”¹æˆnxp-mcx-cmsisæ˜¯ä¸æ˜¯nxp-mcx-cmsiså°±ä¸ç”¨åˆ›å»ºSConscriptäº†ï¼Œå®é™…ä¸Šè¿™æ ·ä¼šæŠ¥é”™ï¼Œåœ¨æ‹‰å–è½¯ä»¶åŒ…çš„æ—¶å€™ç”±äºç”¨çš„æ˜¯æœ€æ–°çš„ä»£ç ï¼Œé‚£ä¹ˆnxp-mcx-cmsisçš„å‘½åå°±ä¼šå˜æˆnxp-mcx-cmsis_latest,è¿™æ—¶å°±ä¼šæŠ¥é”™&lt;/p>
&lt;p>ä¸ºäº†æ–¹ä¾¿å¯èƒ½å‡ºç°çš„ä¸åŒç‰ˆæœ¬ï¼ŒåŒæ—¶ä¹Ÿè®©è½¯ä»¶åŒ…æ›´æ•´æ´ä¸€ç‚¹ï¼Œè¿˜æ˜¯è¦åœ¨nxp-mcx-cmsisåˆ›å»ºä¸€ä¸ªSConscript,å†…å®¹ä¸ºä¸‹å›¾æ‰€ç¤º&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250519173715.png" alt="" />&lt;/p>
&lt;p>é‚£ä¹ˆåŸæ¥çš„nxp-mcx-seriesä¸­çš„SConscriptåˆ™åˆ æ‰ &lt;em>&lt;strong>cwd + &amp;lsquo;/../CMSIS/Core/Include&amp;rsquo;,&lt;/strong>&lt;/em> å³å¯&lt;/p>
&lt;p>è¿™æ ·nxp-mcx-cmsiså’Œnxp-mcx-seriesä¸¤ä¸ªè½¯ä»¶åŒ…å°±åšå¥½äº†&lt;/p>
&lt;p>æ¥ä¸‹æ¥æ˜¯æŠŠåŸæœ¬bspæŸ¥æ‰¾libraryè·¯å¾„ä¿®æ”¹ä¸€ä¸‹å°±å¥½äº†&lt;/p>
&lt;p>å‰é¢æåˆ°ï¼ŒSCons çš„æ„å»ºè¿‡ç¨‹ä¸»è¦ä¾èµ–äºå„çº§ç›®å½•ä¸‹çš„ &lt;code>SConscript&lt;/code> æ–‡ä»¶æ¥ç»„ç»‡å’Œç®¡ç†éœ€è¦ç¼–è¯‘çš„ &lt;code>.c&lt;/code> æ–‡ä»¶ã€‚é‚£ä¹ˆï¼ŒSCons æœ€å¼€å§‹æ˜¯ä»å“ªé‡Œå¼€å§‹æ‰§è¡Œçš„å‘¢ï¼Ÿ&lt;/p>
&lt;p>å®é™…ä¸Šï¼Œ&lt;strong>SCons ä¼šä»BSPæ ¹ç›®å½•ä¸‹çš„ &lt;code>SConstruct&lt;/code> æ–‡ä»¶å¼€å§‹æ‰§è¡Œ&lt;/strong>ï¼Œè¿™æ˜¯æ•´ä¸ªæ„å»ºç³»ç»Ÿçš„å…¥å£æ–‡ä»¶ã€‚&lt;code>SConstruct&lt;/code> æ­£å¸¸æƒ…å†µä¸‹åªä¼šä»bspæ ¹ç›®å½•ä¸‹å¼€å§‹æœç´¢ï¼Œè¿›è€Œé€’å½’æ¥æ·»åŠ è¯¥ BSP æ‰€éœ€ç¼–è¯‘çš„æ‰€æœ‰æºæ–‡ä»¶ã€‚&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250519174711.png" alt="" />&lt;/p>
&lt;p>å¦‚æœéœ€è¦æœç´¢bspç›®å½•å¤–çš„æ–‡ä»¶å¤¹ï¼Œåˆ™éœ€è¦æŒ‡å®šå¯¹åº”çš„ç›®å½•ï¼Œæ¯”å¦‚è¯´ä¸Šå›¾ï¼Œé¦–å…ˆobjsæ·»åŠ äº†RTTå†…æ ¸ï¼Œå…¶æ¬¡æ˜¯driversé©±åŠ¨ï¼Œæœ€åæ˜¯libraryé‡Œçš„åº“æ–‡ä»¶&lt;/p>
&lt;p>æ‰€ä»¥ä¸ºäº†é€‚é…è½¯ä»¶åŒ…ï¼Œåˆ™éœ€è¦æŠŠè¿™ä¸€è¡Œæ·»åŠ åº“æ–‡ä»¶å¤¹çš„ä»£ç å»æ‰&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">objs.extend(SConscript(os.path.join(libraries_path_prefix, rtconfig.BSP_LIBRARY_TYPE, &amp;#39;SConscript&amp;#39;)))
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ—¶å€™åˆç”±äºé»˜è®¤ä¼šè‡ªåŠ¨æœç´¢BSPæ ¹ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å¤¹åŒ…æ‹¬packagesé‡Œçš„SConscriptï¼Œæ‰€ä»¥è½¯ä»¶åŒ…æ–¹é¢ä¸ç”¨é¢å¤–æ·»åŠ è·¯å¾„&lt;/p>
&lt;p>è¿™æ—¶å€™å°±å¯ä»¥å°è¯•ç¼–è¯‘ä¸€ä¸‹&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250519175558.png" alt="" />&lt;/p>
&lt;p>ç»“æœå¯ä»¥çœ‹åˆ°åº“æ–‡ä»¶çš„è·¯å¾„æ¥è‡ªäºPackagesï¼Œç¼–è¯‘ä¹Ÿæ˜¯é€šè¿‡çš„&lt;/p>
&lt;h3 id="æäº¤åˆ°githubä»“åº“">æäº¤åˆ°githubä»“åº“
&lt;/h3>&lt;p>é¦–å…ˆï¼Œéœ€è¦åœ¨ GitHub ä¸Šåˆ›å»ºä¸¤ä¸ªä»“åº“ï¼Œå¹¶åˆ†åˆ«å‘½åä¸º &lt;strong>nxp-mcx-cmsis&lt;/strong> å’Œ &lt;strong>nxp-mcx-series&lt;/strong>ï¼ŒåŒæ—¶è®°å½•ä¸‹è¿™ä¸¤ä¸ªä»“åº“å¯¹åº”çš„ Git æ‹‰å–åœ°å€ã€‚&lt;/p>
&lt;p>æ¥ç€ï¼Œåœ¨æœ¬åœ°æ‰“å¼€ &lt;strong>packages&lt;/strong> æ–‡ä»¶å¤¹å†…å¯¹åº”è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹è·¯å¾„çš„ Git Bash çª—å£ã€‚&lt;/p>
&lt;p>æœ€åï¼ŒæŒ‰ç…§ä»¥ä¸‹å‘½ä»¤å°† SDK æäº¤è‡³è¿œç«¯ä»“åº“ä¸­&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#åˆå§‹åŒ–ä»“åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#è®¾ç½®è¿œç«¯ä»“åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git remote add æ‹‰å–å¯¹åº”ä»“åº“ç”¨çš„gitåœ°å€
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#æ‹‰å–ä»£ç 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git pull origin master
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#å°†ä¿®æ”¹çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤æˆcommit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit &amp;#34;First Commit&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#æ¨é€åˆ°githubæœåŠ¡å™¨ä¸Š
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push origin master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="ä¿®æ”¹packageè½¯ä»¶åŒ…ç´¢å¼•ä»“åº“">ä¿®æ”¹Packageè½¯ä»¶åŒ…ç´¢å¼•ä»“åº“
&lt;/h2>&lt;p>æ¥ä¸‹æ¥æ˜¯ä¿®æ”¹è½¯ä»¶åŒ…çš„ç´¢å¼•ä»“åº“ï¼Œæ•ˆæœå°±æ˜¯Menuconfigæ‰“å¼€ç›¸åº”çš„å®å®šä¹‰å³å¯è‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„è½¯ä»¶åŒ…&lt;/p>
&lt;p>æ¥åˆ°è½¯ä»¶åŒ…ä»“åº“&lt;a class="link" href="https://github.com/RT-Thread/packages" target="_blank" rel="noopener"
>GitHub - RT-Thread/packages: packages index repository for rt-thread.&lt;/a>&lt;/p>
&lt;p>é¦–å…ˆéœ€è¦å°†ä»“åº“Forkæˆè‡ªå·±çš„packageä»“åº“&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250520102853.png" alt="" />&lt;/p>
&lt;p>ç„¶åæ¥åˆ°è‡ªå·±çš„packageä»“åº“ï¼Œæ‰¾åˆ°cloneåœ°å€&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250520103457.png" alt="" />&lt;/p>
&lt;p>åœ¨æœ¬åœ°æ‰¾ä¸€ä¸ªåœ°æ–¹æ‹‰å–ä¸€ä¸‹&lt;/p>
&lt;p>&lt;em>&lt;strong>è¿™é‡Œæ¨èä¸€ä¸ªpackageæ‹‰å–çš„åœ°æ–¹&lt;/strong>&lt;/em>&lt;/p>
&lt;p>æ­£å¸¸æ¥è¯´ï¼Œenvå·¥å…·æœ¬èº«ä¹Ÿä¼šæ‹‰å–packageï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥æ¥åˆ°envçš„å®‰è£…ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°å¯¹åº”çš„packageç›®å½•ï¼Œåˆ é™¤åé‡æ–°åœ¨è¯¥ä½ç½®æ‹‰å–ä¸€ä¸ªpackageï¼Œè¿™æ ·åœ¨è°ƒè¯•çš„æ—¶å€™å°±èƒ½éšæ—¶ä½¿ç”¨åˆ°æœ€æ–°ä»£ç &lt;/p>
&lt;p>æ‹‰å–åˆ°æœ¬åœ°åï¼Œç”¨vscodeæ‰“å¼€packagesï¼Œç„¶åæ¥åˆ°peripherals\hal-sdkç›®å½•ä¸‹&lt;/p>
&lt;p>æ‰¾åˆ°å¯¹åº”bspçš„æ–‡ä»¶å¤¹ï¼Œæ²¡æœ‰çš„è¯å¯ä»¥æ ¹æ®å…¶ä»–æ–‡ä»¶å¤¹çš„å‘½åè§„èŒƒæ¥æ–°å»º&lt;/p>
&lt;p>ç„¶ååœ¨bspä¸‹åˆ›å»ºKconfigå’Œpackage.jsonï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250521185137.png" alt="" />&lt;/p>
&lt;p>å…¶ä¸­çš„å†…å®¹å¯ä»¥å‚è€ƒå…¶ä»–sdkçš„é…ç½®æ¥ä¿®æ”¹&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250522100054.png" alt="" />&lt;/p>
&lt;p>æ³¨æ„ï¼Œè¿™é‡Œé¢çš„Kconfigè·Ÿä¸Šé¢æåˆ°çš„SConscriptæœ‰ç‚¹ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸ºäº†èƒ½è®©envæ‰¾åˆ°sdkçš„é…ç½®ï¼Œæ‰€ä»¥æ¯ä¸ªæ–‡ä»¶å¤¹ä¸‹éƒ½æœ‰&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250522100515.png" alt="" />&lt;/p>
&lt;p>å°†å¯¹åº”çš„é…ç½®è·¯å¾„å¡«å…¥åˆ°ä¸Šå±‚æ–‡ä»¶å¤¹ä¸­çš„Kconfigå³å¯ï¼Œå…·ä½“å¯ä»¥å‚è€ƒå…¶ä»–SDK&lt;/p>
&lt;p>å…¨éƒ¨å†™å¥½åå°±å¯ä»¥æäº¤präº†ï¼Œæ‰“å¼€git bash&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">#å°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#åˆ›å»ºåˆ†æ”¯
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git checkout -b nxp_sdk
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#æäº¤æš‚å­˜åŒºæ–‡ä»¶åˆ°commit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m &amp;#34;è¿™é‡Œå¡«å†™commmitæè¿°&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#æ¨é€è¿œç«¯ä»“åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push origin nxp_sdk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¨é€åˆ°githubä¸Šè‡ªå·±çš„ä»“åº“åï¼Œå°±å¯ä»¥åœ¨ç½‘é¡µç«¯æ“ä½œæäº¤präº†&lt;/p>
&lt;p>å…³äºè½¯ä»¶åŒ…ç›¸å…³çš„éƒ¨åˆ†è¯¦ç»†å¯ä»¥å‚è€ƒå…¶ä»–çš„æ–‡ç« å’Œè§†é¢‘æ¯”å¦‚&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.csdn.net/lt6210925/article/details/105176863?spm=1001.2014.3001.5501" target="_blank" rel="noopener"
>\[RTT\]\[ENV\]\[PACKAGE\]å¦‚ä½•åˆ¶ä½œè½¯ä»¶åŒ…_rtt env packages-CSDNåšå®¢&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.bilibili.com/video/av79943543" target="_blank" rel="noopener"
>Envä¸Šæ‰‹æŒ‡å—_å“”å“©å“”å“©_bilibili&lt;/a>&lt;/p>
&lt;h2 id="ä¿®æ”¹rt-threadä¸»ä»“ä»“åº“">ä¿®æ”¹RT-Threadä¸»ä»“ä»“åº“
&lt;/h2>&lt;p>é¦–å…ˆå¦‚æœéœ€è¦åœ¨ä¸»ä»“ä¸Šæäº¤ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä»“åº“forkä¸€ä¸‹ï¼Œç„¶åæ‹‰å–è‡ªå·±çš„RT-Threadä»“åº“åˆ°æœ¬åœ°å³å¯,å…¶æ­¥éª¤è·Ÿä¿®æ”¹ç´¢å¼•ä»“åº“ä¸€æ ·&lt;/p>
&lt;p>åœ¨ç¬¬ä¸€æ­¥çš„æµ‹è¯•ä¸­ï¼ŒBSP å·²ç»èƒ½å¤Ÿæ­£å¸¸ç¼–è¯‘ã€‚æ¥ä¸‹æ¥ï¼Œå¦‚æœè¦å®ç°å¯¹åº” SDK çš„è‡ªåŠ¨ä¸‹è½½åŠŸèƒ½ï¼Œåˆ™éœ€è¦å€ŸåŠ©è½¯ä»¶åŒ…ç´¢å¼•ä»“åº“ä¸­çš„å®å®šä¹‰æ¥å®Œæˆã€‚&lt;/p>
&lt;p>å½“ä½¿ç”¨menuconfigä¿å­˜é€€å‡ºåï¼Œenvä¼šè‡ªåŠ¨å°†Kconfigä¸‹å¼€å¯çš„å®å®šä¹‰æ”¾åˆ°rtconfig.hä¸­ï¼Œè¿™æ—¶å¦‚æœä½¿ç”¨äº†pkgs &amp;ndash;updateå¹¶æ£€æµ‹åˆ°PKG_å¼€å¤´çš„å®å®šä¹‰å°±ä¼šæ ¹æ®ç´¢å¼•ä»“åº“çš„é…ç½®ä¸‹è½½å¯¹åº”çš„è½¯ä»¶åŒ…&lt;/p>
&lt;p>äºæ˜¯æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œé¦–å…ˆæ‰¾åˆ°è¿™ä¸ªç³»åˆ—çš„bspéƒ½ä¼šå¼€å¯çš„é€‰é¡¹ï¼Œç„¶ååœ¨è¿™ä¸ªé€‰é¡¹ä¸‹é¢åŠ å…¥åˆšæ‰ç´¢å¼•ä»“åº“é…ç½®çš„å®å®šä¹‰å°±å¯ä»¥äº†&lt;/p>
&lt;p>å¦‚ä¸‹å›¾çš„ä¾‹å­ä¸­ï¼Œæˆ‘æ‰¾åˆ°äº†ä¸€ä¸ªSOC_MCXçš„ä¸€ä¸ªconfigï¼Œå½“menuconfigä¿å­˜é€€å‡ºåï¼Œå°±ä¼šè‡ªåŠ¨æœç´¢æ‰“å¼€selectä¸­çš„é€‰é¡¹ï¼Œè¿™é‡ŒæŠŠsdkçš„configå¼€å…³å¡«è¿›å»å³å¯&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250522101935.png" alt="" />&lt;/p>
&lt;p>åˆ°äº†è¿™é‡Œï¼Œbspçš„åŸºç¡€ç˜¦èº«å°±å®Œæˆäº†,æ¥ä¸‹æ¥æ˜¯æ·»åŠ ä¸€äº›æç¤ºä¹‹ç±»çš„ï¼Œå‘Šè¯‰å…¶ä»–å¼€å‘è€…åœ¨ç¼–è¯‘å‰éœ€è¦è¾“å…¥pkgs &amp;ndash;updateä¸‹è½½sdk&lt;/p>
&lt;p>æ‰“å¼€å½“å‰bspçš„SConscript,åŠ å…¥ä¸‹å›¾ä¸­çš„ä»£ç ï¼Œä½œç”¨å°±æ˜¯æ£€æµ‹packagesç›®å½•ä¸‹æœ‰æ²¡æœ‰å¯¹åº”çš„sdkæ–‡ä»¶å¤¹,æ²¡æœ‰çš„è¯å°±ä¼šæŠ¥é”™å¹¶æç¤º&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%b8%ad%e5%a6%82%e4%bd%95%e5%af%b9%e5%85%b6%e4%bb%96BSP%e8%bf%9b%e8%a1%8c%e7%98%a6%e8%ba%ab%e5%b9%b6%e6%b7%bb%e5%8a%a0%e8%bd%af%e4%bb%b6%e5%8c%85/images/Pasted%20image%2020250522102530.png" alt="" />&lt;/p>
&lt;p>æ³¨æ„ï¼šè½¯ä»¶åŒ…å†æ‹‰ä¸‹æ¥çš„æ—¶å€™ä¼šè‡ªåŠ¨åœ¨æ–‡ä»¶å¤¹åååŠ ä¸Š-latestï¼Œä¿®æ”¹çš„æ—¶å€™ä¸è¦æ¼äº†&lt;/p>
&lt;p>æœ€åå¯ä»¥æµ‹è¯•ä¸€ä¸‹ï¼ŒæŠŠåŸæ¥çš„æ–‡ä»¶å¤¹åˆ é™¤åå³å¯è¾“å…¥pkgs &amp;ndash;updateä¸‹è½½sdkï¼Œç¼–è¯‘é€šè¿‡åå³å¯å¼€å§‹æäº¤pr&lt;/p>
&lt;p>å¯ä»¥å‚è€ƒä¸‹é¢çš„é“¾æ¥:
&lt;a class="link" href="https://club.rt-thread.org/ask/article/62273896dee18b09.html" target="_blank" rel="noopener"
>RT-Thread-ã€RT-Threadã€‘è®°å½•ä¸€æ¬¡å¯¹ä¸»ä»“çš„bspè¿›è¡Œä¿®å¤å¹¶æäº¤prçš„æ€»ç»“RT-Threadé—®ç­”ç¤¾åŒº - RT-Thread&lt;/a>&lt;/p>
&lt;h1 id="æ€»ç»“">æ€»ç»“
&lt;/h1>&lt;p>è¿™é‡Œæ€»ç»“ä¸‹æ­¥éª¤
é¦–å…ˆï¼Œéœ€è¦åˆ›å»ºå¯¹åº”çš„SDKä»“åº“ï¼›
è¿™ä¸ªä»“åº“ä¼šåœ¨pkgs &amp;ndash;updateæ—¶ä¸‹è½½åˆ°packagesæ–‡ä»¶å¤¹é‡Œï¼Œç„¶åsconsç¼–è¯‘å·¥å…·ä¼šæ ¹æ®å…¶ä¸­çš„SConscriptæ¥å†³å®šç¼–è¯‘å“ªä¸ªcæ–‡ä»¶&lt;/p>
&lt;p>æ¥ç€ï¼Œä¿®æ”¹Packageè½¯ä»¶åŒ…ç´¢å¼•ä»“åº“ï¼›
è¿™ä¸ªä»“åº“ä¸»è¦æ˜¯ç”¨æ¥é“¾æ¥è½¯ä»¶åŒ…çš„ä»“åº“ï¼Œå¹¶å°†è¯¥è½¯ä»¶åŒ…è·Ÿå®å®šä¹‰ç»‘å®šï¼Œè¿™æ ·envæ‰å¯ä»¥æ‰¾åˆ°è¯¥è½¯ä»¶åŒ…çš„ä»“åº“å¹¶ä¸‹è½½ä¸‹æ¥&lt;/p>
&lt;p>æœ€åï¼Œæ›´æ–°RT-Threadä¸»ä»“ä»“åº“ä¸­çš„BSPï¼›
ä¸ºäº†ä½¿ BSP åœ¨æ‰§è¡Œ &lt;strong>pkgs &amp;ndash;update&lt;/strong> æ—¶èƒ½å¤Ÿæ­£ç¡®å·¥ä½œï¼Œéœ€è¦ç¡®ä¿å¯¹åº”è½¯ä»¶åŒ…çš„å®å®šä¹‰å¤„äºå¼€å¯çŠ¶æ€ã€‚å› æ­¤ï¼Œå¿…é¡»åœ¨ Kconfig æ–‡ä»¶ä¸­é€‰æ‹©ä¸€ä¸ªé»˜è®¤å¼€å¯çš„é€‰é¡¹ï¼Œå¹¶å°†è¯¥å®å®šä¹‰åŒ…å«å…¶ä¸­ã€‚è¿™æ ·ä¸€æ¥ï¼Œåœ¨é€šè¿‡ menuconfig é…ç½®åï¼Œå°±èƒ½å¯ç”¨è¯¥å®å®šä¹‰ã€‚ ï¼ˆæ³¨ï¼šmenuconfig ä¸­çš„é€‰é¡¹å‡æ¥æºäº Kconfig æ–‡ä»¶ã€‚ï¼‰&lt;/p></description></item><item><title>RT-Threadä»“åº“çš„CIè‡ªåŠ¨ç¼–è¯‘æµ‹è¯•</title><link>https://hydevcode.github.io/p/rt-thread%E4%BB%93%E5%BA%93%E7%9A%84ci%E8%87%AA%E5%8A%A8%E7%BC%96%E8%AF%91%E6%B5%8B%E8%AF%95/</link><pubDate>Tue, 08 Apr 2025 19:20:00 +0800</pubDate><guid>https://hydevcode.github.io/p/rt-thread%E4%BB%93%E5%BA%93%E7%9A%84ci%E8%87%AA%E5%8A%A8%E7%BC%96%E8%AF%91%E6%B5%8B%E8%AF%95/</guid><description>&lt;h1 id="å‰è¨€">å‰è¨€
&lt;/h1>&lt;p>å½“æˆ‘ä»¬å¾€RT-Threadä»“åº“æäº¤PRä»£ç ä¹Ÿå°±æ˜¯å¯¹ä»“åº“åšä¿®æ”¹çš„æ—¶å€™ï¼Œæ¥åˆ°æäº¤çš„PRåº•ä¸‹å¯ä»¥çœ‹åˆ°ä¸€äº›Build Checkï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%bb%93%e5%ba%93%e7%9a%84CI%e8%87%aa%e5%8a%a8%e7%bc%96%e8%af%91%e6%b5%8b%e8%af%95/images/Pasted%20image%2020250403224733.png" alt="" />&lt;/p>
&lt;p>è¿™äº›Checkçš„ä½œç”¨å°±æ˜¯ç¼–è¯‘ä¸å…¶å¯¹åº”çš„BSPï¼Œå°±å¥½åƒæœ¬åœ°ä½¿ç”¨scons -j4ç¼–è¯‘ä¸€æ ·&lt;/p>
&lt;p>å½“æ‰€æœ‰æµ‹è¯•é€šè¿‡äº†ä¹‹åå°±ä»£è¡¨åœ¨è¯¥PRä¸­ä¿®æ”¹çš„ä»£ç å¯ä»¥æ­£å¸¸ç¼–è¯‘æ‰€åœ¨çš„BSP&lt;/p>
&lt;p>å¦‚æœæœ‰æŠ¥é”™ä¹Ÿå°±æ˜¯ç¼–è¯‘ä¸é€šè¿‡çš„è¯ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„å®šä½é—®é¢˜æ¥æº&lt;/p>
&lt;h1 id="æ€ä¹ˆæ·»åŠ bspçš„è‡ªåŠ¨ç¼–è¯‘æµ‹è¯•">æ€ä¹ˆæ·»åŠ BSPçš„è‡ªåŠ¨ç¼–è¯‘æµ‹è¯•
&lt;/h1>&lt;p>é—®é¢˜æ¥äº†ï¼Œé‚£ä¹ˆå½“æ·»åŠ äº†ä¸€ä¸ªæ–°çš„BSPçš„æ—¶å€™è¯¥å¦‚ä½•è®©å®ƒä¹Ÿèƒ½æ”¯æŒè‡ªåŠ¨ç¼–è¯‘å‘¢&lt;/p>
&lt;p>æ¥åˆ°.githubç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå«ALL_BSP_COMPILE.jsonçš„æ–‡ä»¶
è¿™é‡Œé¢å°±åŒ…å«äº†æ‰€æœ‰éœ€è¦è‡ªåŠ¨ç¼–è¯‘æµ‹è¯•çš„bsp&lt;/p>
&lt;p>å½“æˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªæ–°çš„BSPæ—¶ï¼Œåªéœ€è¦æŒ‰ç…§åŸæœ‰çš„æ ¼å¼ï¼Œå°†BSPçš„è·¯å¾„æ·»åŠ åˆ°åˆ—è¡¨ä¸­å³å¯&lt;/p>
&lt;p>ä½†æ˜¯éœ€è¦æ³¨æ„å‡ ç‚¹&lt;/p>
&lt;p>é¦–å…ˆï¼Œæ¯ä¸ªBSPéƒ½åº”è¯¥è¢«æ”¾å…¥æ­£ç¡®çš„ç»„ä¸­ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæ·»åŠ çš„æ˜¯STM32F7ç³»åˆ—çš„BSPï¼Œé‚£ä¹ˆå°±åº”è¯¥å°†å…¶è·¯å¾„æ”¾å…¥ç›¸åº”çš„ç»„ã€‚å¦‚ä¸‹å›¾çš„çš„RTT_BSPå°±ç±»ä¼¼äºç»„å&lt;/p>
&lt;p>å¦‚æœåœ¨ç°æœ‰çš„ç»„ä¸­æ‰¾ä¸åˆ°åˆé€‚çš„ä½ç½®ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŒ‰ç…§å·²æœ‰çš„æ ¼å¼æ–°å¢ä¸€ä¸ªç»„&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%bb%93%e5%ba%93%e7%9a%84CI%e8%87%aa%e5%8a%a8%e7%bc%96%e8%af%91%e6%b5%8b%e8%af%95/images/Pasted%20image%2020250403230111.png" alt="" />&lt;/p>
&lt;p>æ·»åŠ å®Œæˆåå¯ä»¥éªŒè¯ä¸€ä¸‹çœ‹æ˜¯å¦æˆåŠŸæ·»åŠ &lt;/p>
&lt;p>æ¥åˆ°PRé¡µé¢çš„æœ€ä¸‹æ–¹ï¼Œæ‰¾åˆ°åˆšæ·»åŠ çš„bspå¯¹åº”çš„ç»„åï¼Œç‚¹å‡»é“¾æ¥&lt;/p>
&lt;p>è¿™é‡Œä»¥æ˜Ÿç«ä¸€å·RT-SPARKä¸ºä¾‹å­&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%bb%93%e5%ba%93%e7%9a%84CI%e8%87%aa%e5%8a%a8%e7%bc%96%e8%af%91%e6%b5%8b%e8%af%95/images/Pasted%20image%2020250408220004.png" alt="" />&lt;/p>
&lt;p>å±•å¼€BSP Scons Compileå³å¯çœ‹åˆ°bspè·¯å¾„&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%bb%93%e5%ba%93%e7%9a%84CI%e8%87%aa%e5%8a%a8%e7%bc%96%e8%af%91%e6%b5%8b%e8%af%95/images/Pasted%20image%2020250408220159.png" alt="" />&lt;/p>
&lt;h1 id="å¦‚ä½•åœ¨è‡ªå·±ä»“åº“ä¸Šè¿›è¡Œè‡ªåŠ¨ç¼–è¯‘æµ‹è¯•">å¦‚ä½•åœ¨è‡ªå·±ä»“åº“ä¸Šè¿›è¡Œè‡ªåŠ¨ç¼–è¯‘æµ‹è¯•
&lt;/h1>&lt;p>(åœ¨è‡ªå·±ä»“åº“ä¸Šç¼–è¯‘éœ€è¦ä¿®æ”¹ä¸€ä¸‹ä»“åº“æ–‡ä»¶ï¼Œåˆ é™¤.github/workflows/bsp_buildings.ymlä¸­çš„&lt;strong>if: github.repository_owner == &amp;lsquo;RT-Thread&amp;rsquo;&lt;/strong> å³å¯åœ¨è‡ªå·±çš„ä»“åº“ç¼–è¯‘æµ‹è¯•ï¼Œé¡ºä¾¿å¯ä»¥æŠŠ&lt;code>schedule:- cron: '0 16 * * *'&lt;/code> ä¹Ÿåˆ äº†ï¼Œè¿™ä¸ªæ˜¯å®šæ—¶è¿è¡Œï¼Œæ—¶é—´é•¿äº†ä»“åº“ä¼šæœ‰ä¸€å †ç¼–è¯‘è®°å½•ï¼Œè¿™ä¸ªæ“ä½œä»…ç”¨äºè‡ªå·±æµ‹è¯•ï¼Œæœ€åæäº¤PRä»£ç çš„æ—¶å€™è®°å¾—è¿˜åŸ)&lt;/p>
&lt;p>é¦–å…ˆç¡®ä¿RT-Threadä»“åº“å·²ç»forkåˆ°è‡ªå·±ä»“åº“äº†(ä¹Ÿå°±æ˜¯ç±»ä¼¼äºå¤åˆ¶ä¸€ä»½ä»“åº“åˆ°è‡ªå·±ä»“åº“ä¸­)
ç„¶åæ¥åˆ°è‡ªå·±çš„RT-Threadä»“åº“&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%bb%93%e5%ba%93%e7%9a%84CI%e8%87%aa%e5%8a%a8%e7%bc%96%e8%af%91%e6%b5%8b%e8%af%95/images/Pasted%20image%2020250408220636.png" alt="" />&lt;/p>
&lt;p>ç‚¹å‡»Actions,ç„¶ååœ¨å·¦è¾¹çš„åˆ—è¡¨æ‰¾åˆ°Build Checkï¼Œåœ¨å³è¾¹å¯ä»¥çœ‹åˆ°ä¸€ä¸ªRun workflow
ï¼ŒæŒ‰ä¸‹é‚£ä¸ªç»¿è‰²æŒ‰é’®å°±ä¼šå¼€å§‹è‡ªåŠ¨å¯¹æ‰€æœ‰bspè¿›è¡Œç¼–è¯‘äº†&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%bb%93%e5%ba%93%e7%9a%84CI%e8%87%aa%e5%8a%a8%e7%bc%96%e8%af%91%e6%b5%8b%e8%af%95/images/Pasted%20image%2020250408220606.png" alt="" />&lt;/p>
&lt;p>æ­¤æ—¶åˆ·æ–°ä¸€ä¸‹ç½‘é¡µä¼šå‘ç°å¤šå‡ºæ¥ä¸€ä¸ªæ£•è‰²çš„Build Checkï¼Œè¿™æ—¶è¯´æ˜æ­£åœ¨è¿›è¡Œæµ‹è¯•ï¼Œåªéœ€è¦ç­‰å¾…æµ‹è¯•ç»“æŸå³å¯&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/RT-Thread%e4%bb%93%e5%ba%93%e7%9a%84CI%e8%87%aa%e5%8a%a8%e7%bc%96%e8%af%91%e6%b5%8b%e8%af%95/images/Pasted%20image%2020250408220852.png" alt="" />&lt;/p>
&lt;p>å¦å¤–CIè¿˜æœ‰å…¶ä»–å¥½ç©çš„ç”¨æ³•ï¼Œç»“åˆèµ·æ¥åšé¡¹ç›®ååˆ†æ–¹ä¾¿&lt;/p>
&lt;p>&lt;a class="link" href="https://club.rt-thread.org/ask/article/5c41835bb8ff9b41.html" target="_blank" rel="noopener"
>RT-Thread-è¿˜åœ¨æ‹…å¿ƒbspä¸å¥½ç»´æŠ¤å—ï¼Ÿå¿«ä½¿ç”¨ymlç®¡ç†ä¸»çº¿bspRT-Threadé—®ç­”ç¤¾åŒº - RT-Thread&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://club.rt-thread.org/ask/article/95e2a0f0a1517189.html" target="_blank" rel="noopener"
>RT-Thread-RT-Thread CIç¼–è¯‘äº§ç‰©artifactsè‡ªåŠ¨ä¸Šä¼ åŠŸèƒ½ä»‹ç»RT-Threadé—®ç­”ç¤¾åŒº - RT-Thread&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://club.rt-thread.org/ask/article/8e019d0e64e1ab31.html" target="_blank" rel="noopener"
>RT-Thread-ã€ciã€‘ã€githubã€‘ã€bspã€‘RT-THREADæ‰€æœ‰bsp sconsç¼–è¯‘æƒ…å†µæ£€æŸ¥RT-Threadé—®ç­”ç¤¾åŒº - RT-Thread&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://club.rt-thread.org/ask/article/419a30e57384a239.html" target="_blank" rel="noopener"
>RT-Thread-\[github\]\[action\] RTTé»‘ç§‘æŠ€: æ·»åŠ æ‰‹åŠ¨æ‰“åŒ…å’Œç¼–è¯‘ç‰¹å®šbspåŠŸèƒ½RT-Threadé—®ç­”ç¤¾åŒº - RT-Thread&lt;/a>&lt;/p></description></item><item><title>Github Pull_request_targetå­¦ä¹ ç¬”è®°</title><link>https://hydevcode.github.io/p/github-pull_request_target%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link><pubDate>Sat, 15 Mar 2025 19:20:00 +0800</pubDate><guid>https://hydevcode.github.io/p/github-pull_request_target%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid><description>&lt;aside> ğŸ˜€ ç”±äºéœ€è¦åœ¨PRä¸Šç”¨botå‘é€è¯„è®ºï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦ç”¨åˆ°pull_request_target,ä½†æ˜¯å®˜æ–¹æ–‡æ¡£æç¤ºè¯¥è§¦å‘æ¡ä»¶æœ‰å®‰å…¨é£é™©,äºæ˜¯ç ”ç©¶ä¸‹å¹¶åšä¸ªç¬”è®°
&lt;/aside>
&lt;p>&lt;a class="link" href="https://docs.github.com/zh/actions/writing-workflows/choosing-when-your-workflow-runs/events-that-trigger-workflows#pull_request_target" target="_blank" rel="noopener"
>è§¦å‘å·¥ä½œæµçš„äº‹ä»¶ - GitHub æ–‡æ¡£&lt;/a>&lt;/p>
&lt;p>åœ¨ GitHub Actions ä¸­ï¼Œ&lt;code>pull_request&lt;/code> å’Œ &lt;code>pull_request_target&lt;/code> æ˜¯ä¸¤ç§å¤„ç† Pull Request (PR) çš„è§¦å‘å™¨,ä»¥ä¸‹æ˜¯æˆ‘çš„ç†è§£ä»‹ç»ä»¥åŠå¯¹æ¯”ï¼š&lt;/p>
&lt;h1 id="-ä»€ä¹ˆæ˜¯pull_request">ğŸ“ ä»€ä¹ˆæ˜¯pull_request?
&lt;/h1>&lt;ul>
&lt;li>å½“ &lt;strong>PR è¢«åˆ›å»º&lt;/strong>ã€&lt;strong>æ›´æ–°&lt;/strong>ï¼ˆæ–°æäº¤ï¼‰æˆ– &lt;strong>é‡æ–°æ‰“å¼€&lt;/strong> æ—¶è§¦å‘å·¥ä½œæµ&lt;/li>
&lt;li>ä¸“ä¸º &lt;strong>å¤„ç† PR è´¡çŒ®è€…çš„ä»£ç &lt;/strong> è®¾è®¡&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ç‰¹æ€§&lt;/th>
&lt;th>è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>ä»£ç ç¯å¢ƒ&lt;/strong>&lt;/td>
&lt;td>ä½¿ç”¨ &lt;strong>PR åˆ†æ”¯çš„ä»£ç &lt;/strong>ï¼ˆå³è´¡çŒ®è€…çš„ä»£ç ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>æƒé™&lt;/strong>&lt;/td>
&lt;td>&lt;code>GITHUB_TOKEN&lt;/code> é»˜è®¤åªæœ‰ &lt;strong>è¯»æƒé™&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>Secrets&lt;/strong>&lt;/td>
&lt;td>&lt;strong>æ— æ³•è®¿é—®ä»“åº“çš„åŠ å¯† secrets&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>ç›®æ ‡åˆ†æ”¯&lt;/strong>&lt;/td>
&lt;td>æ— æ³•ç›´æ¥è®¿é—®ç›®æ ‡åˆ†æ”¯ï¼ˆå¦‚ &lt;code>main&lt;/code>ï¼‰çš„æœ€æ–°ä»£ç &lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ä½¿ç”¨ç¤ºä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">on:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">#è§¦å‘æ¡ä»¶è®¾ç½®â†“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pull_request:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> branches: &lt;span class="o">[&lt;/span> main &lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">permissions:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> contents: &lt;span class="nb">read&lt;/span> &lt;span class="c1"># æ˜¾å¼å£°æ˜æœ€ä½æƒé™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jobs:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> test:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> runs-on: ubuntu-latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> steps:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - uses: actions/checkout@v4 &lt;span class="c1"># è‡ªåŠ¨ç­¾å‡º PR ä»£ç &lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h1 id="-ä»€ä¹ˆæ˜¯pull_request_target">ğŸ“ ä»€ä¹ˆæ˜¯pull_request_target?
&lt;/h1>&lt;ul>
&lt;li>ä¸“é—¨ç”¨äº &lt;strong>ç»´æŠ¤è€…å®¡æ ¸ PR æ—¶&lt;/strong> éœ€è¦ &lt;strong>é«˜æƒé™æ“ä½œ&lt;/strong> çš„åœºæ™¯&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ç‰¹æ€§&lt;/th>
&lt;th>è¯´æ˜&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;strong>ä»£ç ç¯å¢ƒ&lt;/strong>&lt;/td>
&lt;td>é»˜è®¤ä½¿ç”¨ &lt;strong>ç›®æ ‡åˆ†æ”¯çš„ä»£ç &lt;/strong>ï¼ˆå¦‚ &lt;code>main&lt;/code> åˆ†æ”¯ï¼‰ï¼Œè€Œé PR ä»£ç &lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>æƒé™&lt;/strong>&lt;/td>
&lt;td>&lt;code>GITHUB_TOKEN&lt;/code> é»˜è®¤æ‹¥æœ‰ &lt;strong>å†™æƒé™&lt;/strong>ï¼ˆå¯ä¿®æ”¹ä»“åº“ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>Secrets&lt;/strong>&lt;/td>
&lt;td>&lt;strong>å¯ä»¥è®¿é—®ä»“åº“çš„åŠ å¯† secrets&lt;/strong>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;strong>ç›®æ ‡åˆ†æ”¯&lt;/strong>&lt;/td>
&lt;td>ç›´æ¥åŸºäºç›®æ ‡åˆ†æ”¯çš„æœ€æ–°ä»£ç è¿è¡Œ&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="å¯èƒ½çš„å®‰å…¨é£é™©">å¯èƒ½çš„å®‰å…¨é£é™©
&lt;/h2>&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/hydevcode/post/Git/Github_Pull_request_target%e5%ad%a6%e4%b9%a0%e7%ac%94%e8%ae%b0/images/Pasted%20image%2020250315192253.png" alt="" />&lt;/p>
&lt;ul>
&lt;li>
&lt;p>æ¥è‡ªå®˜æ–¹æ–‡æ¡£https://docs.github.com/zh/actions/writing-workflows/choosing-when-your-workflow-runs/events-that-trigger-workflows#pull_request_target&lt;/p>
&lt;p>å¯¹äºç”± &lt;code>pull_request_target&lt;/code> äº‹ä»¶è§¦å‘çš„å·¥ä½œæµï¼Œå°†æˆäºˆ &lt;code>GITHUB_TOKEN&lt;/code> è¯»/å†™å­˜å‚¨åº“æƒé™ï¼Œé™¤éæŒ‡å®šäº† &lt;code>permissions&lt;/code>å¯†é’¥å¹¶ä¸”å·¥ä½œæµå¯ä»¥è®¿é—®æœºå¯†ï¼Œå³ä½¿ä»åˆ†æ”¯è§¦å‘ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ è™½ç„¶å·¥ä½œæµç¨‹åœ¨æ‹‰å–è¯·æ±‚çš„åŸºç¡€ä¸Šä¸‹æ–‡ä¸­è¿è¡Œï¼Œä½†ä½ åº”è¯¥ç¡®ä¿ä¸åœ¨æ­¤äº‹ä»¶ä¸­æ£€å‡ºã€ç”Ÿæˆæˆ–è¿è¡Œæ¥è‡ªæ‹‰å–è¯·æ±‚çš„ä¸å—ä¿¡ä»»ä»£ç ã€‚ æ­¤å¤–ï¼Œä»»ä½•ç¼“å­˜éƒ½ä¸åŸºæœ¬åˆ†æ”¯å…±äº«ç›¸åŒçš„ä½œç”¨åŸŸã€‚ ä¸ºå¸®åŠ©é˜²æ­¢ç¼“å­˜ä¸­æ¯’ï¼Œå¦‚æœç¼“å­˜å†…å®¹å¯èƒ½å·²æ›´æ”¹ï¼Œåˆ™ä¸åº”ä¿å­˜ç¼“å­˜ã€‚ æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… GitHub Security Lab ç½‘ç«™ä¸Šçš„â€œ&lt;a class="link" href="https://securitylab.github.com/research/github-actions-preventing-pwn-requests" target="_blank" rel="noopener"
>ä¿æŠ¤ GitHub Actions å’Œå·¥ä½œæµå®‰å…¨ï¼šé˜»æ­¢ pwn è¯·æ±‚&lt;/a>â€ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="æ¯”å¦‚">æ¯”å¦‚ï¼š
&lt;/h3>&lt;p>ç”±äº &lt;code>pull_request_target&lt;/code> é»˜è®¤ä½¿ç”¨çš„æ˜¯ &lt;code>main&lt;/code> åˆ†æ”¯çš„ä»£ç ï¼Œå› æ­¤æ— æ³•æµ‹è¯• PR ä¸­ä¿®æ”¹çš„å†…å®¹ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥æŒ‡å®šä½¿ç”¨ PR åˆ†æ”¯çš„ä»£ç ï¼Œä½†è¿™åˆä¼šå¼•å‘æ–°çš„é—®é¢˜ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">steps:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - uses: actions/checkout@v4
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> with:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ref: ${{ github.event.pull_request.head.sha }} # æ˜¾å¼ç­¾å‡º PR ä»£ç 
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å½“å‰æƒ…å†µï¼š â€¢ å·¥ä½œæµè¿è¡Œåœ¨é«˜æƒé™ç¯å¢ƒä¸­ï¼ˆå¯è®¿é—®æ•æ„Ÿä¿¡æ¯ï¼‰ â€¢ ä½†æ‰§è¡Œçš„æ˜¯æ¥è‡ªä¸å¯ä¿¡ PR çš„ä»£ç  â€¢ è§¦å‘çš„å·¥ä½œæµä»…åœ¨æäº¤è€…çš„åˆ†å‰ä»“åº“ä¸­è¿è¡Œ â€¢ æ”»å‡»è€…å¯èƒ½åœ¨ PR ä»£ç ä¸­æ’å…¥æ¶æ„ CI è„šæœ¬&lt;/p>
&lt;p>å®‰å…¨é£é™©ä¸»è¦æºè‡ªäº &lt;code>pull_request_target&lt;/code> ä¸‹çš„å·¥ä½œæµï¼Œå› ä¸ºè¯¥å·¥ä½œæµå…·æœ‰è¯»å– secrets å’Œå†™å…¥ GITHUB_TOKEN çš„æƒé™ã€‚å› æ­¤ï¼Œåœ¨ç¼–å†™ YAML æ–‡ä»¶æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚&lt;/p>
&lt;p>åœ¨ç½‘ä¸Šæœç´¢åˆ°çš„ä¸€äº›è§£å†³åŠæ³•å¯ä»¥æœ‰æ•ˆæé«˜ GitHub Actions çš„å®‰å…¨æ€§ï¼Œå…·ä½“æªæ–½å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>ç¦ç”¨å‡­è¯æŒä¹…åŒ– (persist-credentials: false)&lt;/strong>ï¼šå½“ä½¿ç”¨ &lt;code>actions/checkout&lt;/code> åŠ¨ä½œæ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒGitHub ä¼šå°† GITHUB_TOKEN å†™å…¥æœ¬åœ°çš„ Git é…ç½®æ–‡ä»¶ï¼ˆå­˜å‚¨åœ¨ &lt;code>.git/config&lt;/code> ä¸­ï¼‰ã€‚è¿™æ„å‘³ç€åç»­çš„æ‰€æœ‰ Git æ“ä½œï¼ˆå¦‚ &lt;code>push&lt;/code> æˆ– &lt;code>pull&lt;/code>ï¼‰éƒ½ä¼šè‡ªåŠ¨ä½¿ç”¨è¿™ä¸ªä»¤ç‰Œè¿›è¡Œèº«ä»½éªŒè¯ã€‚ç„¶è€Œï¼Œä¸ºäº†å¢å¼ºå®‰å…¨æ€§å¹¶é¿å…æ½œåœ¨çš„é£é™©ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® &lt;code>persist-credentials: false&lt;/code> æ¥ä¸»åŠ¨åˆ é™¤è¿™äº›å‡­è¯ä¿¡æ¯ã€‚è¿™ä¸€æ­¥éª¤ç¡®ä¿äº†å³ä½¿ä»£ç åº“ä¸­å­˜åœ¨æ•æ„Ÿæ“ä½œï¼Œä¹Ÿä¸ä¼šå› ä¸ºè¯¯ç”¨æˆ–æ³„éœ²ä»¤ç‰Œè€Œå¼•å‘å®‰å…¨é—®é¢˜ã€‚&lt;/li>
&lt;li>&lt;strong>æœ€å°åŒ–æƒé™é…ç½®&lt;/strong>ï¼šåœ¨ GitHub Actions çš„å·¥ä½œæµæ–‡ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ &lt;code>permissions&lt;/code> å—æ¥æ˜¾å¼å£°æ˜æ¯ä¸ªæ­¥éª¤æ‰€éœ€çš„æƒé™ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ç¡®ä¿æ¯ä¸ªä½œä¸šåªæ‹¥æœ‰å®Œæˆä»»åŠ¡æ‰€å¿…éœ€çš„æœ€ä½æƒé™ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæŸä¸ªä½œä¸šåªéœ€è¦è¯»å–ä»“åº“å†…å®¹ï¼Œåˆ™ä¸åº”æˆäºˆå…¶å†™å…¥æƒé™ã€‚è¿™ç§åšæ³•ä¸ä»…å‡å°‘äº†ä¸å¿…è¦çš„æƒé™æš´éœ²ï¼Œè¿˜é™ä½äº†å› æƒé™æ»¥ç”¨è€Œå¯¼è‡´çš„å®‰å…¨é£é™©ã€‚&lt;/li>
&lt;li>&lt;strong>éš”ç¦»æ•æ„Ÿæ“ä½œ&lt;/strong>ï¼šä¸ºäº†è¿›ä¸€æ­¥æå‡å®‰å…¨æ€§ï¼Œå»ºè®®å°†ç­¾å‡ºä»£ç çš„æ“ä½œä¸ä»»ä½•æ¶‰åŠå†™å…¥çš„æ“ä½œåˆ†ç¦»åˆ°ä¸åŒçš„ä½œä¸šï¼ˆjobï¼‰ä¸­ã€‚è¿™æ ·åšå¯ä»¥æœ‰æ•ˆé˜²æ­¢åœ¨åŒä¸€ç¯å¢ƒä¸­åŒæ—¶æ‰§è¡Œè¯»å–å’Œå†™å…¥æ“ä½œï¼Œä»è€Œå‡å°‘æ„å¤–ä¿®æ”¹æˆ–æ¶æ„æ”»å‡»çš„å¯èƒ½æ€§ã€‚é€šè¿‡å°†ä¸åŒç±»å‹çš„ä»»åŠ¡åˆ†éš”å¼€ï¼Œå¯ä»¥æ›´å¥½åœ°æ§åˆ¶å’Œç›‘æ§æ¯ä¸ªä½œä¸šçš„è¡Œä¸ºï¼Œç¡®ä¿æ•´ä¸ªå·¥ä½œæµçš„å®‰å…¨æ€§å’Œç¨³å®šæ€§ã€‚&lt;/li>
&lt;/ol>
&lt;p>é€šè¿‡ä»¥ä¸Šè¿™äº›æ–¹æ³•ï¼Œä¸ä»…å¯ä»¥æé«˜ GitHub Actions çš„å®‰å…¨æ€§ï¼Œè¿˜èƒ½å¸®åŠ©å¼€å‘è€…æ›´æ¸…æ™°åœ°ç®¡ç†å’Œæ§åˆ¶å„ä¸ªä½œä¸šä¹‹é—´çš„æƒé™å’Œæ“ä½œï¼Œä»è€Œæ„å»ºæ›´åŠ å¥å£®å’Œå¯é çš„è‡ªåŠ¨åŒ–æµç¨‹ã€‚&lt;/p>
&lt;h1 id="workflow_run">WorkFlow_Run
&lt;/h1>&lt;p>åœ¨å®˜æ–¹çš„ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œå®˜æ–¹æä¾›äº†ä¸€ç§è§£å†³åŠæ³•,è€Œä¸”ç»™å‡ºçš„ç¤ºä¾‹ä¹Ÿåˆšå¥½ç¬¦åˆå®ç°åœ¨PRå‘é€è¯„è®ºçš„éœ€æ±‚&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;a class="link" href="https://securitylab.github.com/resources/github-actions-preventing-pwn-requests/" target="_blank" rel="noopener"
>https://securitylab.github.com/resources/github-actions-preventing-pwn-requests/&lt;/a>&lt;/p>
&lt;p>ä¸&lt;code>pull_request_target&lt;/code>ä¸€èµ·ï¼Œå¼•å…¥äº†ä¸€ä¸ªæ–°çš„è§¦å‘å™¨&lt;code>workflow_run&lt;/code>ï¼Œä»¥æ”¯æŒéœ€è¦æ„å»ºä¸å—ä¿¡ä»»çš„ä»£ç å¹¶ä¸”è¿˜éœ€è¦å†™å…¥æƒé™æ¥æ›´æ–° PRï¼ˆä¾‹å¦‚ä»£ç è¦†ç›–ç‡ç»“æœæˆ–å…¶ä»–æµ‹è¯•ç»“æœï¼‰çš„æ–¹æ¡ˆã€‚è¦ä»¥å®‰å…¨çš„æ–¹å¼æ‰§è¡Œæ­¤ä½œï¼Œå¿…é¡»é€šè¿‡ &lt;code>pull_request&lt;/code> è§¦å‘å™¨å¤„ç†ä¸å—ä¿¡ä»»çš„ä»£ç ï¼Œä»¥ä¾¿å°†å…¶éš”ç¦»åœ¨éç‰¹æƒç¯å¢ƒä¸­ã€‚ç„¶åï¼Œå¤„ç† PR çš„å·¥ä½œæµåº”å°†ä»»ä½•ç»“æœï¼ˆå¦‚ä»£ç è¦†ç›–ç‡æˆ–å¤±è´¥/é€šè¿‡çš„æµ‹è¯•ï¼‰å­˜å‚¨åœ¨æ„ä»¶ä¸­å¹¶é€€å‡ºã€‚ç„¶åï¼Œä»¥ä¸‹å·¥ä½œæµç¨‹ä» &lt;code>workflow_run&lt;/code> å¼€å§‹ï¼Œåœ¨è¯¥ä½ç½®è¢«æˆäºˆå¯¹ç›®æ ‡å­˜å‚¨åº“çš„å†™å…¥æƒé™å’Œå¯¹å­˜å‚¨åº“å¯†é’¥çš„è®¿é—®æƒé™ï¼Œä»¥ä¾¿å®ƒå¯ä»¥ä¸‹è½½é¡¹ç›®å¹¶å¯¹å­˜å‚¨åº“è¿›è¡Œä»»ä½•å¿…è¦çš„ä¿®æ”¹ï¼Œæˆ–ä¸éœ€è¦å­˜å‚¨åº“å¯†é’¥ï¼ˆä¾‹å¦‚ API ä»¤ç‰Œï¼‰çš„ç¬¬ä¸‰æ–¹æœåŠ¡äº¤äº’ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>è¿™é‡Œç”¨çš„æ˜¯å®˜æ–¹çš„ä¸€ä¸ªç¤ºä¾‹ï¼Œå…¶ä¸­åˆ†åˆ«æœ‰ä¸¤ä¸ªå·¥ä½œæµï¼Œå…³é”®æ³¨æ„è¿™ä¸¤ä¸ªå·¥ä½œæµçš„è§¦å‘äº‹ä»¶ä¸€ä¸ªæ˜¯&lt;code>pull_request&lt;/code>ä¸€ä¸ªæ˜¯&lt;code>workflow_run&lt;/code>&lt;/p>
&lt;p>å½“è´¡çŒ®è€…æäº¤PRæ—¶ï¼Œä¼šè§¦å‘ç›¸åº”çš„CIæµç¨‹ã€‚ç”±äº&lt;code>Receive PR&lt;/code>å·¥ä½œæµä½¿ç”¨çš„æ˜¯&lt;code>pull_request&lt;/code>äº‹ä»¶ï¼Œé»˜è®¤æƒ…å†µä¸‹æ— æ³•è®¿é—®æœºå¯†ä¿¡æ¯ä¸”ä¸å…·å¤‡å†™å…¥æƒé™ã€‚è¯¥å·¥ä½œæµè¿è¡Œå®Œæ¯•åï¼Œä¼šå°†å¤„ç†ç»“æœåŠPRç¼–å·å­˜å‚¨åœ¨æ„ä»¶ä¸­ã€‚éšåï¼Œ&lt;code>workflow_run&lt;/code>æ£€æµ‹åˆ°&lt;code>Receive PR&lt;/code>å·¥ä½œæµå·²ç»“æŸï¼Œäºæ˜¯è§¦å‘è¯¥å·¥ä½œæµå¹¶å¼€å§‹æ‰§è¡Œå…¶å®šä¹‰çš„ä»»åŠ¡ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">name: Receive PR
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># read-only repo token&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># no access to secrets&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">on:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pull_request:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jobs:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> build:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> runs-on: ubuntu-latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> steps:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - uses: actions/checkout@v2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># imitation of a build process&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - name: Build
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> run: /bin/bash ./build.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - name: Save PR number
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> run: &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> mkdir -p ./pr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="si">${&lt;/span>&lt;span class="p">{ github.event.number &lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="o">}&lt;/span> &amp;gt; ./pr/NR
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - uses: actions/upload-artifact@v2
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> with:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> name: pr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> path: pr/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;code>Comment on the pull request&lt;/code>å·¥ä½œæµå°†&lt;code>Receive PR&lt;/code>çš„æ„ä»¶ä¸‹è½½å›æ¥ï¼Œç„¶åæ ¹æ®PRå·å¯¹ç›¸åº”çš„PRå‘é€è¯„è®º&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">name: Comment on the pull request
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># read-write repo token&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># access to secrets&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">on:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> workflow_run:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> workflows: &lt;span class="o">[&lt;/span>&lt;span class="s2">&amp;#34;Receive PR&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> types:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - completed
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jobs:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> upload:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> runs-on: ubuntu-latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>: &amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> github.event.workflow_run.event &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;pull_request&amp;#39;&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> github.event.workflow_run.conclusion &lt;span class="o">==&lt;/span> &lt;span class="s1">&amp;#39;success&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> steps:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - name: &lt;span class="s1">&amp;#39;Download artifact&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> uses: actions/github-script@v3.1.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> with:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> script: &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> var &lt;span class="nv">artifacts&lt;/span> &lt;span class="o">=&lt;/span> await github.actions.listWorkflowRunArtifacts&lt;span class="o">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> owner: context.repo.owner,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> repo: context.repo.repo,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> run_id: &lt;span class="si">${&lt;/span>&lt;span class="p">{github.event.workflow_run.id &lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="o">}&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">})&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> var &lt;span class="nv">matchArtifact&lt;/span> &lt;span class="o">=&lt;/span> artifacts.data.artifacts.filter&lt;span class="o">((&lt;/span>artifact&lt;span class="o">)&lt;/span> &lt;span class="o">=&lt;/span>&amp;gt; &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> artifact.name &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;pr&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">})[&lt;/span>0&lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> var &lt;span class="nv">download&lt;/span> &lt;span class="o">=&lt;/span> await github.actions.downloadArtifact&lt;span class="o">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> owner: context.repo.owner,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> repo: context.repo.repo,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> artifact_id: matchArtifact.id,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> archive_format: &lt;span class="s1">&amp;#39;zip&amp;#39;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">})&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> var &lt;span class="nv">fs&lt;/span> &lt;span class="o">=&lt;/span> require&lt;span class="o">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> fs.writeFileSync&lt;span class="o">(&lt;/span>&lt;span class="s1">&amp;#39;${{github.workspace}}/pr.zip&amp;#39;&lt;/span>, Buffer.from&lt;span class="o">(&lt;/span>download.data&lt;span class="o">))&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - run: unzip pr.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - name: &lt;span class="s1">&amp;#39;Comment on PR&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> uses: actions/github-script@v3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> with:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> github-token: &lt;span class="si">${&lt;/span>&lt;span class="p">{ secrets.GITHUB_TOKEN &lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> script: &lt;span class="p">|&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> var &lt;span class="nv">fs&lt;/span> &lt;span class="o">=&lt;/span> require&lt;span class="o">(&lt;/span>&lt;span class="s1">&amp;#39;fs&amp;#39;&lt;/span>&lt;span class="o">)&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> var &lt;span class="nv">issue_number&lt;/span> &lt;span class="o">=&lt;/span> Number&lt;span class="o">(&lt;/span>fs.readFileSync&lt;span class="o">(&lt;/span>&lt;span class="s1">&amp;#39;./NR&amp;#39;&lt;/span>&lt;span class="o">))&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> await github.issues.createComment&lt;span class="o">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> owner: context.repo.owner,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> repo: context.repo.repo,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> issue_number: issue_number,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> body: &lt;span class="s1">&amp;#39;Everything is OK. Thank you for the PR!&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">})&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;aside> ğŸ’¡
&lt;p>æœ‰å…³é¢˜ç›®æˆ–æ–‡ç« çš„é—®é¢˜ï¼Œæ¬¢è¿æ‚¨åœ¨åº•éƒ¨è¯„è®ºåŒºç•™è¨€ï¼Œä¸€èµ·äº¤æµ~&lt;/p>
&lt;/aside></description></item><item><title>My First Post</title><link>https://hydevcode.github.io/p/my-first-post/</link><pubDate>Fri, 14 Mar 2025 21:13:57 +0800</pubDate><guid>https://hydevcode.github.io/p/my-first-post/</guid><description>&lt;p>è¿™æ˜¯ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œè®²ä¸€è®²è¯¥åšå®¢çš„æƒ…å†µ&lt;/p>
&lt;p>è¿™ä¸ªåšå®¢ä¸»è¦ç”¨äºè®°å½•éšç¬”ç¬”è®°ä¹‹ç±»çš„ï¼Œè€Œæ•´ç†å¥½çš„æ–‡ç« ä¼šå‘åˆ°notioné‚£è¾¹å»&lt;/p></description></item><item><title>å­˜æ¡£</title><link>https://hydevcode.github.io/archives/</link><pubDate>Tue, 28 May 2019 00:00:00 +0000</pubDate><guid>https://hydevcode.github.io/archives/</guid><description/></item><item><title>å‚è€ƒ</title><link>https://hydevcode.github.io/%E5%8F%82%E8%80%83/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://hydevcode.github.io/%E5%8F%82%E8%80%83/</guid><description/></item><item><title>å…³äº</title><link>https://hydevcode.github.io/%E5%85%B3%E4%BA%8E/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://hydevcode.github.io/%E5%85%B3%E4%BA%8E/</guid><description>&lt;p>This is a test page for i18n support.&lt;/p></description></item><item><title>é“¾æ¥</title><link>https://hydevcode.github.io/%E9%93%BE%E6%8E%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://hydevcode.github.io/%E9%93%BE%E6%8E%A5/</guid><description>&lt;p>To use this feature, add &lt;code>links&lt;/code> section to frontmatter.&lt;/p>
&lt;p>This page&amp;rsquo;s frontmatter:&lt;/p>
&lt;p>&lt;code>image&lt;/code> field accepts both local and external images.&lt;/p></description></item><item><title>æœç´¢</title><link>https://hydevcode.github.io/search/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://hydevcode.github.io/search/</guid><description/></item></channel></rss>